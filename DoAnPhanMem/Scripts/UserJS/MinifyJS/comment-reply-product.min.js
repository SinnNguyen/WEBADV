function CRateOut(e) {
    for (var t = 1; t <= e; t++) $("#rate" + t).attr("class", "fa fa-star-o")
}
function CRateOver(e) {
    for (var t = 1; t <= e; t++) $("#rate" + t).attr("class", "fa fa-star")
}
function CRateClick(e) {
    $(".uploadimgcheck").removeAttr("disabled"),
        $(".write_content_fb").removeClass("cursor-disable"),
        $("#ConfirmAdd").removeAttr("disabled"),
        $("#FBk_Content").removeAttr("disabled"),
        $("#dcript_content_fb").css("color", "#666"),
        $("#dcript_content_fb").text("Nhập nội dung đánh giá"),
        $("#lblRating").val(e);
    for (var t = 1; t <= e; t++) $("#rate" + t).attr("class", "fa fa-star");
    for (t = 1; t <= 5; t++) $("#rate" + t).attr("class", "fa fa-star-o")
}
function CRateSelected() {
    for (var e = $("#lblRating").val(), t = 1; t <= e; t++) $("#rate" + t).attr("class", "fa fa-star")
}
$(document).ready(function () {
    var e, t, n, i;
    if (CRateSelected(5), Simditor.locale = "en-US", i = ["title", "bold", "italic", "underline", "strikethrough", "fontScale", "color", "|", "ol", "ul", "blockquote", "|", "link", "image", "hr", "|", "indent", "outdent", "alignment"], n = ["bold", "underline", "strikethrough", "color", "ul", "ol"], mobilecheck() && (i = n), t = new Simditor({
        textarea: $("#comment__con"),
        toolbar: i,
        pasteImage: !0,
        defaultImage: "/Content/Images/favicon.png",
        upload: "?upload" === location.search && {
            url: "/upload"
        }
    }), (e = $("#preview")).length > 0) return t.on("valuechanged",
        function (n) {
            return e.html(t.getValue())
        })
}),
    $("#create_submit_comment").click(function () {
        const e = $("#comment__con").val(),
            t = $("#product_id").val(),
            n = $("#discount_id").val(),
            i = $("#genre_id").val(),
            o = $("#lblRating").val();
        if ("" == e) {
            return Swal.mixin({
                toast: !0,
                position: "top",
                showConfirmButton: !1,
                timer: 2e3,
                didOpen: e => {
                    e.addEventListener("mouseenter", Swal.stopTimer),
                    e.addEventListener("mouseleave", Swal.resumeTimer)
                }
            }).fire({
                icon: "warning",
                title: "Nhập nội dung bình luận"
            }),
                !1
        }
        if (e.length < 20) {
            console.log(" chỗ 3");
            return Swal.mixin({
                toast: !0,
                position: "top",
                showConfirmButton: !1,
                timer: 2500,
                didOpen: e => {
                    e.addEventListener("mouseenter", Swal.stopTimer),
                    e.addEventListener("mouseleave", Swal.resumeTimer)
                }
            }).fire({
                icon: "warning",
                title: "Nội dung bình luận tối thiểu 10 ký tự"
            }),
                !1
        }
        if (e.length > 500) {
            return Swal.mixin({
                toast: !0,
                position: "top",
                showConfirmButton: !1,
                timer: 2500,
                didOpen: e => {
                    e.addEventListener("mouseenter", Swal.stopTimer),
                    e.addEventListener("mouseleave", Swal.resumeTimer)
                }
            }).fire({
                icon: "warning",
                title: "Nội dung bình luận không quá 500 ký tự"
            }),
                !1
        }
        $.ajax({
            type: "Post",
            url: "/Products/ProductComment",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
                productID: t,
                discountID: n,
                genreID: i,
                rateStar: o,
                commentContent: e
            }),
            dataType: "json",
            success: function (e) {
                1 != e || setTimeout(function () {
                    window.location.reload()
                },
                    1)
            },
            error: function () {
                Swal.mixin({
                    toast: !0,
                    position: "top",
                    showConfirmButton: !1,
                    timer: 1500,
                    didOpen: e => {
                        e.addEventListener("mouseenter", Swal.stopTimer),
                        e.addEventListener("mouseleave", Swal.resumeTimer)
                    }
                }).fire({
                    icon: "error",
                    title: "Chức năng yêu cầu đăng nhập?"
                })
            }
        })
    });
var CreateReplyFeedback = function (e, t) {
    var n, i, o, r;
    if ($("#reply_comment_con_" + e).text('<p style="font-weight:500;">Chào ' + t + ",</p>"), Simditor.locale = "en-US", r = ["title", "bold", "italic", "underline", "strikethrough", "fontScale", "color", "|", "ol", "ul", "blockquote", "|", "link", "image", "hr", "|", "indent", "outdent", "alignment"], o = ["bold", "underline", "strikethrough", "color", "ul", "ol"], mobilecheck() && (r = o), i = new Simditor({
        textarea: $("#reply_comment_con_" + e),
        toolbar: r,
        pasteImage: !0,
        defaultImage: "/Content/Images/favicon.png",
        upload: "?upload" === location.search && {
            url: "/upload"
        }
    }), (n = $("#preview")).length > 0) return i.on("valuechanged",
        function (e) {
            return n.html(i.getValue())
        });
    let a = e;
    $("#submit_reply_comm_" + a).removeAttr("hidden"),
        $("#submit_reply_comm_" + a).click(function () {
            var e = $("#reply_comment_con_" + a).val();
            if ("" == e) {
                Swal.mixin({
                    toast: !0,
                    position: "top",
                    showConfirmButton: !1,
                    timer: 2500,
                    didOpen: e => {
                        e.addEventListener("mouseenter", Swal.stopTimer),
                        e.addEventListener("mouseleave", Swal.resumeTimer)
                    }
                }).fire({
                    icon: "warning",
                    title: "Vui lòng nhập nội dung bình luận!"
                })
            } else {
                if (e.length < 20) {
                    return Swal.mixin({
                        toast: !0,
                        position: "top",
                        showConfirmButton: !1,
                        timer: 2500,
                        didOpen: e => {
                            e.addEventListener("mouseenter", Swal.stopTimer),
                            e.addEventListener("mouseleave", Swal.resumeTimer)
                        }
                    }).fire({
                        icon: "warning",
                        title: "Nội dung tối thiểu 10 ký tự"
                    }),
                        !1
                }
                if (e.length > 500) {
                    return Swal.mixin({
                        toast: !0,
                        position: "top",
                        showConfirmButton: !1,
                        timer: 2500,
                        didOpen: e => {
                            e.addEventListener("mouseenter", Swal.stopTimer),
                            e.addEventListener("mouseleave", Swal.resumeTimer)
                        }
                    }).fire({
                        icon: "warning",
                        title: "Nội dung bình luận không quá 500 ký tự"
                    }),
                        !1
                }
                $.ajax({
                    type: "POST",
                    url: "/Products/ReplyComment",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({
                        id: a,
                        reply_content: e
                    }),
                    dataType: "json",
                    success: function (e) {
                        if (1 != e) {
                            return Swal.mixin({
                                toast: !0,
                                position: "top",
                                showConfirmButton: !1,
                                timer: 1500,
                                didOpen: e => {
                                    e.addEventListener("mouseenter", Swal.stopTimer),
                                    e.addEventListener("mouseleave", Swal.resumeTimer)
                                }
                            }).fire({
                                icon: "error",
                                title: "Đã có lỗi xảy ra"
                            }),
                                !1
                        }
                        setTimeout(function () {
                            window.location.reload()
                        },
                            1)
                    },
                    error: function () {
                        Swal.mixin({
                            toast: !0,
                            position: "top",
                            showConfirmButton: !1,
                            timer: 2500,
                            didOpen: e => {
                                e.addEventListener("mouseenter", Swal.stopTimer),
                                e.addEventListener("mouseleave", Swal.resumeTimer)
                            }
                        }).fire({
                            icon: "error",
                            title: "!Lỗi"
                        })
                    }
                })
            }
        })
},
    createChildReply = function (e, t, n) {
        var i, o, r, a;
        if (child_ide = e, child_rep = t, $("#childRepContent_" + child_rep).text('<p style="font-weight:500;">@' + n + "</p>"), $("#submit_child_reply_comm_" + child_rep).removeAttr("hidden"), Simditor.locale = "en-US", a = ["title", "bold", "italic", "underline", "strikethrough", "fontScale", "color", "|", "ol", "ul", "blockquote", "|", "link", "image", "hr", "|", "indent", "outdent", "alignment"], r = ["bold", "underline", "strikethrough", "color", "ul", "ol"], mobilecheck() && (a = r), o = new Simditor({
            textarea: $("#childRepContent_" + child_rep),
            toolbar: a,
            pasteImage: !0,
            defaultImage: "/Content/Images/favicon.png",
            upload: "?upload" === location.search && {
                url: "/upload"
            }
        }), (i = $("#preview")).length > 0) return o.on("valuechanged",
            function (e) {
                return i.html(o.getValue())
            });
        $("#submit_child_reply_comm_" + child_rep).click(function () {
            var e = $("#childRepContent_" + child_rep).val();
            if ("" == e) {
                Swal.mixin({
                    toast: !0,
                    position: "top",
                    showConfirmButton: !1,
                    timer: 2500,
                    didOpen: e => {
                        e.addEventListener("mouseenter", Swal.stopTimer),
                        e.addEventListener("mouseleave", Swal.resumeTimer)
                    }
                }).fire({
                    icon: "warning",
                    title: "Vui lòng nhập nội dung bình luận!"
                })
            } else {
                if (e.length < 20) {
                    console.log(" chỗ 4");
                    return Swal.mixin({
                        toast: !0,
                        position: "top",
                        showConfirmButton: !1,
                        timer: 2500,
                        didOpen: e => {
                            e.addEventListener("mouseenter", Swal.stopTimer),
                            e.addEventListener("mouseleave", Swal.resumeTimer)
                        }
                    }).fire({
                        icon: "warning",
                        title: "Nội dung bình luận tối thiểu 10 ký tự"
                    }),
                        !1
                }
                if (e.length > 500) {
                    return Swal.mixin({
                        toast: !0,
                        position: "top",
                        showConfirmButton: !1,
                        timer: 2500,
                        didOpen: e => {
                            e.addEventListener("mouseenter", Swal.stopTimer),
                            e.addEventListener("mouseleave", Swal.resumeTimer)
                        }
                    }).fire({
                        icon: "warning",
                        title: "Nội dung bình luận không quá 500 ký tự"
                    }),
                        !1
                }
                $.ajax({
                    type: "POST",
                    url: "/Products/ReplyComment",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify({
                        id: child_ide,
                        reply_content: e
                    }),
                    dataType: "json",
                    success: function (e) {
                        if (1 == e) setTimeout(function () {
                            window.location.reload()
                        },
                            1);
                        else {
                            Swal.mixin({
                                toast: !0,
                                position: "top",
                                showConfirmButton: !1,
                                timer: 1500,
                                didOpen: e => {
                                    e.addEventListener("mouseenter", Swal.stopTimer),
                                    e.addEventListener("mouseleave", Swal.resumeTimer)
                                }
                            }).fire({
                                icon: "error",
                                title: "Lỗi"
                            })
                        }
                    },
                    error: function () {
                        Swal.mixin({
                            toast: !0,
                            position: "top",
                            showConfirmButton: !1,
                            timer: 2500,
                            didOpen: e => {
                                e.addEventListener("mouseenter", Swal.stopTimer),
                                e.addEventListener("mouseleave", Swal.resumeTimer)
                            }
                        }).fire({
                            icon: "danger",
                            title: "Lỗi"
                        })
                    }
                })
            }
        })
    };